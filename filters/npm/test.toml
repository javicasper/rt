command = ["npm test", "pnpm test", "yarn test", "npm run test", "npm run test:i"]

strip_ansi = true

skip = [
  "^> ",
  "^\\s*npm (warn|notice|WARN|verbose|info|timing|error|ERR)",
  "^\\s*WARN\\s",
  "^\\s*ERR!",
  "^\\s*yarn run",
  "^\\s*\\$\\s",
  "^\\s*$",
  "^\\s*at .*\\(.*:\\d+:\\d+\\)",
  "^\\s*at .*node_modules",
  "^\\s*Test Suites:",
  "^\\s*Snapshots:",
  "^\\s*Time:",
  "^\\s*Ran all test suites",
  "^PASS ",
]

[on_success]
output = "{output}"

[on_failure]
tail = 30
